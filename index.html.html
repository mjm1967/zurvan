<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title>ساعت زُروان | Zurvan Clock</title>
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet" />
  <style>
    html, body {
      margin: 0; padding: 0;
      height: 100%;
      background: url('https://images-assets.nasa.gov/image/PIA23175/PIA23175~orig.jpg') no-repeat center center fixed;
      background-size: cover;
      font-family: 'Vazir', 'Courier New', monospace;
      direction: rtl;
      text-align: center;
      overflow: hidden;
      position: relative;
      color: #ccf9ff;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    #starsCanvas {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 0;
      background: transparent;
    }

    #clock {
      font-size: 5em;
      color: #e0faff;
      text-shadow:
        0 0 12px rgba(0, 255, 255, 0.95),
        0 0 20px rgba(0, 200, 255, 0.85),
        0 0 30px rgba(0, 150, 255, 0.8),
        0 2px 5px rgba(0,0,0,0.7);
      margin: 25px 0 30px;
      user-select: none;
      position: relative;
      z-index: 1;
    }

    #toggleBtn {
      background-color: #1e90ff;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 1.2em;
      cursor: pointer;
      user-select: none;
      position: relative;
      z-index: 1;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      transition: background-color 0.25s ease, color 0.25s ease;
      box-shadow: 0 0 10px rgba(30,144,255,0.7);
    }
    #toggleBtn:hover {
      background-color: #63b3ff;
      color: #00333d;
      box-shadow: 0 0 15px rgba(99,179,255,0.9);
    }
    #toggleBtn svg {
      width: 22px;
      height: 22px;
      fill: currentColor;
      flex-shrink: 0;
    }

    #infoBox {
      max-width: 680px;
      background: #000000;
      box-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
      color: #ffffff;
      padding: 22px 28px;
      border-radius: 12px;
      font-size: 1.18em;
      line-height: 1.6em;
      user-select: text;
      overflow: hidden;
      max-height: 0;
      opacity: 0;
      transition: max-height 0.5s ease, opacity 0.5s ease, padding 0.5s ease;
      position: relative;
      z-index: 1;
      margin: 0 auto 30px;
      direction: rtl;
    }
    #infoBox.ltr {
      direction: ltr;
      text-align: left;
    }
    #infoBox.open {
      max-height: 650px;
      opacity: 1;
      padding: 22px 28px;
    }

    #languageLabel {
      margin-bottom: 8px;
      color: #a6e7ff;
      font-weight: 700;
      font-size: 1.05em;
      user-select: none;
      position: relative;
      z-index: 1;
      display: inline-block;
    }

    #languageSelect {
      background: rgba(0,0,0,0.85);
      color: #a6e7ff;
      border: 2px solid #a6e7ff;
      padding: 8px 16px;
      font-size: 1em;
      border-radius: 8px;
      cursor: pointer;
      user-select: none;
      position: relative;
      z-index: 1;
      width: 160px;
    }
  </style>
</head>
<body>
  <canvas id="starsCanvas"></canvas>

  <div id="clock">--:--:--</div>

  <button id="toggleBtn" aria-expanded="false" aria-controls="infoBox" title="نمایش یا پنهان کردن توضیحات">
    <svg viewBox="0 0 24 24" aria-hidden="true" >
      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
      <line x1="12" y1="8" x2="12" y2="12" stroke="currentColor" stroke-width="2" />
      <circle cx="12" cy="16" r="1" fill="currentColor" />
    </svg>
    نمایش توضیح
  </button>

  <div id="infoBox" role="region" aria-live="polite" aria-atomic="true"></div>

  <label id="languageLabel" for="languageSelect">زبان / Language:</label>
  <select id="languageSelect" aria-labelledby="languageLabel" aria-live="polite">
    <option value="fa" selected>فارسی</option>
    <option value="en">English</option>
    <option value="fr">Français</option>
    <option value="es">Español</option>
  </select>

  <script>
    const clockEl = document.getElementById('clock');
    const infoBox = document.getElementById('infoBox');
    const toggleBtn = document.getElementById('toggleBtn');
    const languageSelect = document.getElementById('languageSelect');

    const explanations = {
      fa: `ساعت "زُروان" از سیستمی متفاوت برای اندازه‌گیری زمان استفاده می‌کند:
- هر ۶۰ ثانیه برابر است با ۱ دقیقه
- هر ۶۰ دقیقه برابر است با ۱ ساعت
- هر ۶۰ ساعت برابر است با ۱ روز
این یعنی هر ثانیه واقعی معادل ۲.۵ ثانیه زُروانی است.

نام "زُروان" برگرفته از ایزد زمان در فرهنگ کهن ایرانی است که نماد زمان و سرنوشت است.
ایده‌ی طراحی این ساعت توسط فردی با نام مستعار "Mjm" مطرح شده است.`,

      en: `The "Zurvan" clock uses a different system to measure time:
- 60 seconds = 1 minute
- 60 minutes = 1 hour
- 60 hours = 1 day
This means each real second equals 2.5 Zurvan seconds.

The name "Zurvan" is derived from the ancient Iranian god of time and destiny.
The idea for this clock was proposed by a person with the pseudonym "Mjm".`,

      fr: `L'horloge "Zurvan" utilise un système différent pour mesurer le temps :
- 60 secondes = 1 minute
- 60 minutes = 1 heure
- 60 heures = 1 jour
Cela signifie que chaque seconde réelle équivaut à 2,5 secondes Zurvan.

Le nom "Zurvan" provient de l'ancien dieu iranien du temps et du destin.
L'idée de cette horloge a été proposée par une personne sous le pseudonyme "Mjm".`,

      es: `El reloj "Zurvan" usa un sistema diferente para medir el tiempo:
- 60 segundos = 1 minuto
- 60 minutos = 1 hora
- 60 horas = 1 día
Esto significa que cada segundo real equivale a 2.5 segundos de Zurvan.

El nombre "Zurvan" proviene del antiguo dios iraní del tiempo y el destino.
La idea para este reloj fue propuesta por una persona con el seudónimo "Mjm".`
    };

    function updateClock() {
      const now = new Date();
      const totalRealSeconds = now.getHours() * 3600 + now.getMinutes() * 60 + now.getSeconds() + now.getMilliseconds() / 1000;
      const zurvanSeconds = totalRealSeconds * 2.5;

      const zs = Math.floor(zurvanSeconds % 60);
      const zm = Math.floor((zurvanSeconds / 60) % 60);
      const zh = Math.floor((zurvanSeconds / 3600) % 60);

      clockEl.textContent = `${String(zh).padStart(2, '0')}:${String(zm).padStart(2, '0')}:${String(zs).padStart(2, '0')}`;
    }

    function animate() {
      updateClock();
      requestAnimationFrame(animate);
    }
    animate();

    function toggleInfoBox() {
      const isOpen = infoBox.classList.toggle('open');
      toggleBtn.setAttribute('aria-expanded', isOpen);
      toggleBtn.innerHTML = `
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
          <line x1="12" y1="8" x2="12" y2="12" stroke="currentColor" stroke-width="2" />
          <circle cx="12" cy="16" r="1" fill="currentColor" />
        </svg>
        ${isOpen ? (languageSelect.value === 'fa' ? 'پنهان کردن توضیح' : 'Hide Explanation') : (languageSelect.value === 'fa' ? 'نمایش توضیح' : 'Show Explanation')}
      `;
    }

    toggleBtn.addEventListener('click', toggleInfoBox);

    languageSelect.addEventListener('change', () => {
      const lang = languageSelect.value;
      infoBox.textContent = explanations[lang] || '';
      if (['en', 'fr', 'es'].includes(lang)) {
        infoBox.classList.add('ltr');
      } else {
        infoBox.classList.remove('ltr');
      }
      if (!infoBox.classList.contains('open')) {
        toggleInfoBox();
      }
    });

    infoBox.textContent = explanations['fa'];

    // ستاره‌ها
    (() => {
      const canvas = document.getElementById('starsCanvas');
      const ctx = canvas.getContext('2d');
      let stars = [];
      const numStars = 350;

      function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      resize();
      window.addEventListener('resize', resize);

      function createStars() {
        stars = [];
        for (let i = 0; i < numStars; i++) {
          stars.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            radius: Math.random() * 1.3 + 0.5,
            alpha: Math.random() * 0.8 + 0.2,
            alphaChange: (Math.random() * 0.015) + 0.005,
          });
        }
      }
      createStars();

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (const star of stars) {
          ctx.beginPath();
          ctx.arc(star.x, star.y, star.radius, 0, 2 * Math.PI);
          ctx.fillStyle = `rgba(255, 255, 255, ${star.alpha.toFixed(2)})`;
          ctx.shadowColor = 'rgba(255, 255, 255, 0.8)';
          ctx.shadowBlur = 4;
          ctx.fill();

          star.alpha += star.alphaChange;
          if (star.alpha >= 1) {
            star.alpha = 1;
            star.alphaChange = -star.alphaChange;
          } else if (star.alpha <= 0.2) {
            star.alpha = 0.2;
            star.alphaChange = -star.alphaChange;
          }
        }
        requestAnimationFrame(draw);
      }
      draw();
    })();
  </script>
</body>
</html>
